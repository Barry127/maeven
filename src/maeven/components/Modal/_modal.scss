@import '../../common/colors';
@import '../../common/functions';
@import '../../common/mixins';
@import '../../common/variables';

$mvn-modal-types: ('primary', 'success', 'warning', 'danger');

.mvn-modal-container {
  z-index: 1000;
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.mvn-modal {
  @include bpm0();
  position: relative;
  display: flex;
  flex-direction: column;
  max-height: 90vh;
  max-width: 100vw;
  background: $mvn-color-background-text;
  box-shadow: $mvn-elevation-3;
  border-radius: $mvn-border-radius-large;
  transition: animate-transition(border-radius);

  .mvn-dark & {
    background: $mvn-color-background-text-dark;
    box-shadow: $mvn-elevation-3-dark;
  }

  .mvn-modal-title {
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    min-height: $mvn-base * 2;
    display: flex;
    align-items: center;
    padding-left: $mvn-border-radius-large / 2;

    .mvn-icon-container {
      margin-right: $mvn-border-radius-large / 2;
    }

    h3 {
      flex-grow: 1;
      margin-bottom: 0;
      color: inherit;
    }

    > button {
      @include flat-button();

      &:last-child {
        border-top-right-radius: inherit;
      }
    }
  }

  .mvn-modal-content {
    @include scrollbars(
      $mvn-color-background-text,
      $mvn-color-background-text-dark
    );

    padding: 0;
    border-bottom-left-radius: inherit;
    border-bottom-right-radius: inherit;
    flex-grow: 1;
    overflow: auto;
  }

  &.mvn-has-title {
    .mvn-modal-content {
      padding: $mvn-base;
    }
  }

  &.mvn-modal-maximized {
    border-radius: 0;
    max-height: none;
  }

  @each $type in $mvn-modal-types {
    &.mvn-modal-#{$type} .mvn-modal-title {
      background-color: map-get($mvn-colors, $type);
      background-image: linear-gradient(
        to bottom,
        lighten(map-get($mvn-colors, $type), 5),
        darken(map-get($mvn-colors, $type), 5)
      );
      color: $white;
    }
  }
}
